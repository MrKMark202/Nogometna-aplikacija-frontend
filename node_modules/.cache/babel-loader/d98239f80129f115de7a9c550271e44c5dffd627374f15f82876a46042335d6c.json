{"ast":null,"code":"import axios from 'axios';\nimport { Auth } from '@/components/registracija';\nexport default {\n  name: \"CreateClub\",\n  data: () => ({\n    auth: Auth.state,\n    clubName: null,\n    clubCountry: null,\n    clubYear: null,\n    clubGrb: null,\n    ligas: [],\n    selectedLiga: '',\n    form: false,\n    isLoading: false,\n    rules: {\n      required: v => !!v || 'This field is required'\n    }\n  }),\n  mounted() {\n    this.dohvatiLige();\n  },\n  methods: {\n    clearFormData() {\n      this.clubName = null;\n      this.clubYear = null;\n      this.clubCountry = null;\n      this.clubGrb = null;\n      this.selectedLiga = '';\n    },\n    async dohvatiLige() {\n      try {\n        const userEmail = this.auth.userEmail;\n        const response = await axios.get(`http://localhost:10000/api/liga/dohvat?email=${userEmail}`);\n        if (response.status !== 200) {\n          throw new Error('Network response was not ok');\n        }\n        this.ligas = response.data;\n      } catch (error) {\n        console.error('Greška prilikom dohvaćanja liga:', error);\n      }\n    },\n    async kreirajKlub() {\n      let response = await axios.post(\"http://localhost:10000/api/klub/create\", {\n        clubName: this.clubName,\n        clubYear: this.clubYear,\n        clubCountry: this.clubCountry,\n        clubGrb: this.clubGrb,\n        liga: this.selectedLiga,\n        userEmail: this.auth.userEmail\n      });\n      this.kreirajTablicu();\n      this.clearFormData();\n    },\n    async kreirajTablicu() {\n      let response = await axios.post(\"http://localhost:10000/api/tablica/create\", {\n        bodovi: 0,\n        postignutiPogodci: 0,\n        primljeniPogodci: 0,\n        odigranihDvoboja: 0,\n        klub: this.clubName,\n        userEmail: this.auth.userEmail\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","Auth","name","data","auth","state","clubName","clubCountry","clubYear","clubGrb","ligas","selectedLiga","form","isLoading","rules","required","v","mounted","dohvatiLige","methods","clearFormData","userEmail","response","get","status","Error","error","console","kreirajKlub","post","liga","kreirajTablicu","bodovi","postignutiPogodci","primljeniPogodci","odigranihDvoboja","klub"],"sources":["src/views/KreirajKLUB.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"naslov\">\r\n            <h1>Kreiraj klub</h1>\r\n        </div>\r\n    \r\n        <div class=\"obrub\" data-app>\r\n          <v-form ref=\"form\" v-model=\"form\" style=\"margin-top: 20px;\">\r\n            <v-text-field v-model=\"clubName\" label=\"Naziv kluba\" variant=\"underlined\" :rules=\"[rules.required]\"></v-text-field>\r\n            <v-text-field v-model=\"clubYear\" label=\"Godina osnivanja\" variant=\"underlined\" :rules=\"[rules.required]\"></v-text-field>\r\n            <v-text-field v-model=\"clubCountry\" label=\"Država\" variant=\"underlined\" :rules=\"[rules.required]\"></v-text-field>\r\n\r\n            <v-row class=\"row2\">\r\n              <v-col>\r\n                  <div>\r\n                      <v-select\r\n                        :rules=\"[rules.required]\"\r\n                        :items=\"ligas\"\r\n                        label=\"Izaberite ligu za koju kreirate klub!\"\r\n                        v-model=\"selectedLiga\"\r\n                        class=\"vselect\"\r\n                      ></v-select>\r\n                      <br><br>\r\n                  </div>\r\n              </v-col>\r\n            </v-row>\r\n          \r\n            \r\n            <h3 style=\"color: black\">! Potrebno postaviti link slike sa interneta ili diskorda !</h3>\r\n\r\n            <v-text-field\r\n              class=\"butot\"  \r\n              v-model=\"clubGrb\"\r\n              :rules=\"[rules.required]\"\r\n              label=\"Grb kluba\"\r\n            ></v-text-field>\r\n          </v-form>\r\n            <v-btn \r\n              @click=\"kreirajKlub()\" \r\n              elevation=\"2\" \r\n              :disabled=\"!form\"\r\n              :loading=\"isLoading\"\r\n              style=\"background-color: green; color: white; margin-top:40px; margin-left: 85% !important;\">Kreiraj!\r\n            </v-btn>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n  import axios from 'axios';\r\n  import { Auth } from '@/components/registracija'\r\n\r\n  export default {\r\n    name: \"CreateClub\",\r\n    data: () => ({\r\n      auth: Auth.state,\r\n      clubName: null,\r\n      clubCountry: null,\r\n      clubYear: null,\r\n      clubGrb: null,\r\n      ligas: [],\r\n      selectedLiga: '',\r\n      form: false,\r\n      isLoading: false,\r\n      rules: {\r\n        required: v => !!v || 'This field is required'\r\n      },\r\n    }),\r\n\r\n    mounted() {\r\n      this.dohvatiLige();\r\n    },\r\n\r\n    methods: {\r\n      clearFormData() {\r\n\t\t\t  this.clubName = null;\r\n\t\t\t  this.clubYear = null;\r\n\t\t\t  this.clubCountry = null;\r\n        this.clubGrb = null;\r\n        this.selectedLiga = '';\r\n\t\t  },\r\n\r\n      async dohvatiLige() {\r\n        try {\r\n          const userEmail = this.auth.userEmail;\r\n          const response = await axios.get(`http://localhost:10000/api/liga/dohvat?email=${userEmail}`);\r\n          if (response.status !== 200) {\r\n            throw new Error('Network response was not ok');\r\n          } \r\n          this.ligas = response.data\r\n        } catch (error) {\r\n            console.error('Greška prilikom dohvaćanja liga:', error);\r\n        }\r\n      },\r\n\r\n      async kreirajKlub() {\r\n        let response = await axios.post(\"http://localhost:10000/api/klub/create\", {\r\n          clubName: this.clubName,\r\n          clubYear: this.clubYear,\r\n          clubCountry: this.clubCountry,\r\n          clubGrb: this.clubGrb,\r\n          liga: this.selectedLiga,\r\n          userEmail: this.auth.userEmail\r\n        })\r\n        this.kreirajTablicu()\r\n        this.clearFormData();\r\n      },\r\n\r\n      async kreirajTablicu() {\r\n        let response = await axios.post(\"http://localhost:10000/api/tablica/create\", {\r\n          bodovi: 0,\r\n          postignutiPogodci: 0,\r\n          primljeniPogodci: 0,\r\n          odigranihDvoboja: 0,\r\n          klub: this.clubName,\r\n          userEmail: this.auth.userEmail\r\n        })\r\n      }\r\n    },\r\n  };\r\n</script>\r\n\r\n\r\n<style>\r\n  .obrub\r\n  {\r\n    border: 2px solid white;\r\n    background-color: white;\r\n    padding: 50px;\r\n    margin-left: 20%;\r\n    margin-right: 20%;\r\n    margin-top: 100px; \r\n  }\r\n\r\n  .v-text-field\r\n  {\r\n    font-size: 20px !important;\r\n    font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\r\n    font-weight: bold;\r\n  }\r\n\r\n  .row2\r\n  {\r\n    color: black;\r\n    text-align: center;\r\n  }\r\n\r\n  .vselect\r\n  {\r\n    font-size: 20px !important;\r\n    font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif !important;\r\n  }\r\n</style>"],"mappings":"AAiDA,OAAAA,KAAA;AACA,SAAAC,IAAA;AAEA;EACAC,IAAA;EACAC,IAAA,EAAAA,CAAA;IACAC,IAAA,EAAAH,IAAA,CAAAI,KAAA;IACAC,QAAA;IACAC,WAAA;IACAC,QAAA;IACAC,OAAA;IACAC,KAAA;IACAC,YAAA;IACAC,IAAA;IACAC,SAAA;IACAC,KAAA;MACAC,QAAA,EAAAC,CAAA,MAAAA,CAAA;IACA;EACA;EAEAC,QAAA;IACA,KAAAC,WAAA;EACA;EAEAC,OAAA;IACAC,cAAA;MACA,KAAAd,QAAA;MACA,KAAAE,QAAA;MACA,KAAAD,WAAA;MACA,KAAAE,OAAA;MACA,KAAAE,YAAA;IACA;IAEA,MAAAO,YAAA;MACA;QACA,MAAAG,SAAA,QAAAjB,IAAA,CAAAiB,SAAA;QACA,MAAAC,QAAA,SAAAtB,KAAA,CAAAuB,GAAA,iDAAAF,SAAA;QACA,IAAAC,QAAA,CAAAE,MAAA;UACA,UAAAC,KAAA;QACA;QACA,KAAAf,KAAA,GAAAY,QAAA,CAAAnB,IAAA;MACA,SAAAuB,KAAA;QACAC,OAAA,CAAAD,KAAA,qCAAAA,KAAA;MACA;IACA;IAEA,MAAAE,YAAA;MACA,IAAAN,QAAA,SAAAtB,KAAA,CAAA6B,IAAA;QACAvB,QAAA,OAAAA,QAAA;QACAE,QAAA,OAAAA,QAAA;QACAD,WAAA,OAAAA,WAAA;QACAE,OAAA,OAAAA,OAAA;QACAqB,IAAA,OAAAnB,YAAA;QACAU,SAAA,OAAAjB,IAAA,CAAAiB;MACA;MACA,KAAAU,cAAA;MACA,KAAAX,aAAA;IACA;IAEA,MAAAW,eAAA;MACA,IAAAT,QAAA,SAAAtB,KAAA,CAAA6B,IAAA;QACAG,MAAA;QACAC,iBAAA;QACAC,gBAAA;QACAC,gBAAA;QACAC,IAAA,OAAA9B,QAAA;QACAe,SAAA,OAAAjB,IAAA,CAAAiB;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}