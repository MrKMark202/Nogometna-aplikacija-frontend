{"ast":null,"code":"import axios from 'axios';\nimport { Auth } from '@/components/registracija';\nexport default {\n  data: () => ({\n    auth: Auth.state,\n    form: false,\n    isLoading: false,\n    kolo: null,\n    stadionName: null,\n    domacinGol: null,\n    gostiGol: null,\n    gledateljiBroj: null,\n    mjestoIgranja: null,\n    klubs: [],\n    gostiTim: [],\n    domaciTim: [],\n    domacin: '',\n    gosti: '',\n    lige: [],\n    izabranaLiga: '',\n    date: new Date(Date.now() - new Date().getTimezoneOffset() * 60000).toISOString().substr(0, 10),\n    datumSat: null,\n    menu: false,\n    modal: false,\n    menu2: false,\n    dan: null,\n    mjesec: null,\n    godina: null,\n    satUpisa: null,\n    domBod: 0,\n    gosBod: 0,\n    domacinData: [],\n    gostiData: [],\n    rules: {\n      required: v => !!v || 'This field is required'\n    }\n  }),\n  mounted() {\n    this.dohvatiLige();\n  },\n  methods: {\n    clearFormData() {\n      this.kolo = null;\n      this.stadionName = null;\n      this.mjestoIgranja = null;\n      this.domacinGol = null;\n      this.gostiGol = null;\n      this.gledateljiBroj = null;\n      this.domacin = '';\n      this.gosti = '';\n      this.izabranaLiga = '';\n      this.date = null;\n    },\n    trenutniDatum() {\n      const current = new Date();\n      this.godina = String(\"GODINA \" + `${current.getFullYear()}`);\n      this.mjesec = String(\"MJESEC \" + `${current.getMonth() + 1}`);\n      this.dan = String(\"DAN \" + `${current.getDate()}`);\n      this.satUpisa = String(`${current.getHours()}:${current.getMinutes()}:${current.getSeconds()}`);\n      this.datumSat = String(this.date + \" \" + this.satUpisa);\n    },\n    async dohvatiLige() {\n      try {\n        const userEmail = this.auth.userEmail;\n        const response = await axios.get(`http://localhost:10000/api/liga/dohvat?email=${userEmail}`);\n        if (response.status !== 200) {\n          throw new Error('Network response was not ok');\n        }\n        this.lige = response.data;\n      } catch (error) {\n        console.error('Greška prilikom dohvaćanja liga:', error);\n      }\n    },\n    async dohvatiKlubove() {\n      this.klubs = [];\n      this.gostiTim = [];\n      try {\n        const userEmail = this.auth.userEmail;\n        const userLiga = this.izabranaLiga;\n        const response = await axios.get(`http://localhost:10000/api/klub/dohvat?email=${userEmail}&liga=${userLiga}`);\n        if (response.status !== 200) {\n          throw new Error('Network response was not ok');\n        }\n        this.klubs = response.data;\n        this.gostiTim = this.klubs;\n      } catch (error) {\n        console.error('Greška prilikom dohvaćanja klubova:', error);\n      }\n    },\n    domaciDohvat() {\n      this.domaciTim = this.klubs.filter(klub => klub !== this.domacin);\n    },\n    gostiDohvat() {\n      this.gostiTim = this.klubs.filter(klub => klub !== this.gosti);\n    },\n    async kreirajTekmu() {\n      let response = await axios.post(\"http://localhost:10000/api/utakmica/create\", {});\n      this.clearFormData();\n    }\n  }\n};","map":{"version":3,"names":["axios","Auth","data","auth","state","form","isLoading","kolo","stadionName","domacinGol","gostiGol","gledateljiBroj","mjestoIgranja","klubs","gostiTim","domaciTim","domacin","gosti","lige","izabranaLiga","date","Date","now","getTimezoneOffset","toISOString","substr","datumSat","menu","modal","menu2","dan","mjesec","godina","satUpisa","domBod","gosBod","domacinData","gostiData","rules","required","v","mounted","dohvatiLige","methods","clearFormData","trenutniDatum","current","String","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","userEmail","response","get","status","Error","error","console","dohvatiKlubove","userLiga","domaciDohvat","filter","klub","gostiDohvat","kreirajTekmu","post"],"sources":["src/views/KreirajTEKMU.vue"],"sourcesContent":["<template>\r\n     <div>\r\n        <div class=\"naslov\">\r\n            <h1>Kreiraj Utakmicu</h1>\r\n        </div>\r\n    \r\n        <div data-app class=\"obrub1\">\r\n        <v-form ref=\"form\" v-model=\"form\" style=\"margin-top: 20px;\">\r\n            <v-text-field :rules=\"[rules.required]\" v-model=\"kolo\" label=\"Broj utakmice (kolo)\" variant=\"underlined\"></v-text-field>\r\n            <v-text-field :rules=\"[rules.required]\" v-model=\"mjestoIgranja\" label=\"Mjesto igranja\" variant=\"underlined\"></v-text-field>\r\n            <v-text-field :rules=\"[rules.required]\" v-model=\"stadionName\" label=\"Naziv stadiona\" variant=\"underlined\"></v-text-field>\r\n            <v-text-field :rules=\"[rules.required]\" v-model=\"gledateljiBroj\" label=\"Broj gledatelja\" variant=\"underlined\"></v-text-field>\r\n            <v-col\r\n                cols=\"12\"\r\n                sm=\"6\"\r\n                md=\"4\"\r\n            >\r\n                <v-dialog\r\n                    ref=\"dialog\"\r\n                    v-model=\"modal\"\r\n                    :return-value.sync=\"date\"\r\n                    persistent\r\n                    width=\"290px\"\r\n                >\r\n                    <template v-slot:activator=\"{ on, attrs }\">\r\n                        <v-text-field\r\n                            v-model=\"date\"\r\n                            label=\"Odaberite datum utakmice\"\r\n                            prepend-icon=\"mdi-calendar\"\r\n                            readonly\r\n                            v-bind=\"attrs\"\r\n                            v-on=\"on\"\r\n                            :rules=\"[rules.required]\"\r\n                        ></v-text-field>\r\n                    </template>\r\n                    <v-date-picker\r\n                        v-model=\"date\"\r\n                        scrollable\r\n                    >\r\n                    <v-spacer></v-spacer>\r\n                    <v-btn\r\n                        text\r\n                        color=\"primary\"\r\n                        @click=\"modal = false\"\r\n                    >\r\n                        Cancel\r\n                    </v-btn>\r\n                    <v-btn\r\n                        text\r\n                        color=\"primary\"\r\n                        @click=\"$refs.dialog.save(date)\"\r\n                    >\r\n                        OK\r\n                    </v-btn>\r\n                    </v-date-picker>\r\n                </v-dialog>\r\n            </v-col>\r\n\r\n            <div>\r\n                <v-select\r\n                    @change=\"dohvatiKlubove()\"\r\n                    :items=\"lige\"\r\n                    label=\"Izaberite ligu za koju je utakmica namijenjena!\"\r\n                    v-model=\"izabranaLiga\"\r\n                    class=\"vselect\"\r\n                    :rules=\"[rules.required]\"\r\n                ></v-select>\r\n                <br><br>\r\n            </div>\r\n\r\n            <h1 style=\"font-size: 60px; margin-top: 10px; color: black; text-align: center;\">Rezultat</h1>\r\n\r\n            <v-row class=\"row\">\r\n                <v-col>\r\n                    <div>\r\n                        <h2 style=\"font-size: 30px; margin-bottom: 10px;\">Domaćin</h2>\r\n                        <v-select\r\n                            :items=\"gostiTim\"\r\n                            label=\"Izaberi domaćina\"\r\n                            v-model=\"domacin\"\r\n                            @change=\"domaciDohvat\"\r\n                            :rules=\"[rules.required]\"\r\n                        ></v-select>\r\n                        <br><br>\r\n                    </div>\r\n                </v-col>\r\n\r\n                <v-col class=\"gol\">\r\n                    <input :rules=\"[rules.required]\" v-model=\"domacinGol\" type=\"text\" solo class=\"goll\" maxlength=\"2\"/>\r\n                </v-col>\r\n\r\n                <v-col>\r\n                    <h1 style=\"margin-bottom: 25px\">:</h1>\r\n                </v-col>\r\n\r\n                <v-col class=\"gol\">\r\n                    <input :rules=\"[rules.required]\" v-model=\"gostiGol\" type=\"text\" solo class=\"goll\" maxlength=\"2\"/>\r\n                </v-col>\r\n\r\n                <v-col>\r\n                    <div>\r\n                        <h2 style=\"font-size: 30px; margin-bottom: 10px;\">Gosti</h2>\r\n                        <v-select\r\n                            :items=\"domaciTim\"\r\n                            label=\"Izaberi goste\"\r\n                            v-model=\"gosti\"\r\n                            @change=\"gostiDohvat\"\r\n                            :rules=\"[rules.required]\"\r\n                        ></v-select>\r\n                        <br><br>\r\n                    </div>\r\n                </v-col>\r\n            </v-row>\r\n\r\n            <v-btn \r\n                @click=\"kreirajTekmu()\" \r\n                elevation=\"2\" \r\n                style=\"background-color: green; color: white; margin-top:40px; margin-left: 85% !important; font-size: 30px;\"\r\n                :disabled=\"!form\"\r\n                :loading=\"isLoading\"\r\n            >\r\n                Kreiraj!\r\n            </v-btn>\r\n            </v-form>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import axios from 'axios';\r\n    import { Auth } from '@/components/registracija'\r\n\r\n    export default {\r\n        data: () => ({\r\n        auth: Auth.state,\r\n        form: false,\r\n        isLoading: false,\r\n        kolo: null,\r\n        stadionName: null,\r\n        domacinGol: null,\r\n        gostiGol: null,\r\n        gledateljiBroj: null,\r\n        mjestoIgranja: null,\r\n        klubs: [],\r\n        gostiTim: [],\r\n        domaciTim: [],\r\n        domacin: '',\r\n        gosti: '',\r\n        lige: [],\r\n        izabranaLiga: '',\r\n        date: (new Date(Date.now() - (new Date()).getTimezoneOffset() * 60000)).toISOString().substr(0, 10),\r\n        datumSat: null,\r\n        menu: false,\r\n        modal: false,\r\n        menu2: false,\r\n        dan: null,\r\n        mjesec: null,\r\n        godina: null,\r\n        satUpisa: null,\r\n        domBod: 0,\r\n        gosBod: 0,\r\n        domacinData: [],\r\n        gostiData: [],\r\n        rules: {\r\n            required: v => !!v || 'This field is required',\r\n        },\r\n        }),\r\n\r\n    mounted() {\r\n        this.dohvatiLige();\r\n    },\r\n\r\n    methods: {\r\n        clearFormData() {\r\n                this.kolo = null;\r\n                this.stadionName = null;\r\n                this.mjestoIgranja = null;\r\n                this.domacinGol = null;\r\n                this.gostiGol = null;\r\n                this.gledateljiBroj = null;\r\n                this.domacin = '';\r\n                this.gosti = '';\r\n                this.izabranaLiga = '';\r\n                this.date = null;\r\n            },\r\n\r\n            trenutniDatum() {\r\n                const current = new Date();\r\n                this.godina = String(\"GODINA \" + `${current.getFullYear()}`);\r\n                this.mjesec = String(\"MJESEC \" + `${current.getMonth()+1}`);\r\n                this.dan = String(\"DAN \" + `${current.getDate()}`);\r\n                this.satUpisa = String(`${current.getHours()}:${current.getMinutes()}:${current.getSeconds()}`);\r\n                this.datumSat = String(this.date + \" \" + this.satUpisa);\r\n            },\r\n\r\n            async dohvatiLige() {\r\n                try {\r\n                const userEmail = this.auth.userEmail;\r\n                const response = await axios.get(`http://localhost:10000/api/liga/dohvat?email=${userEmail}`);\r\n                if (response.status !== 200) {\r\n                    throw new Error('Network response was not ok');\r\n                } \r\n                this.lige = response.data\r\n                } catch (error) {\r\n                    console.error('Greška prilikom dohvaćanja liga:', error);\r\n                }\r\n            },\r\n\r\n            async dohvatiKlubove() {\r\n                this.klubs=[];\r\n                this.gostiTim=[];\r\n                try {\r\n                const userEmail = this.auth.userEmail;\r\n                const userLiga = this.izabranaLiga;\r\n                const response = await axios.get(`http://localhost:10000/api/klub/dohvat?email=${userEmail}&liga=${userLiga}`);\r\n                if (response.status !== 200) {\r\n                    throw new Error('Network response was not ok');\r\n                } \r\n                this.klubs = response.data\r\n                this.gostiTim = this.klubs;\r\n                } catch (error) {\r\n                    console.error('Greška prilikom dohvaćanja klubova:', error);\r\n                }\r\n            },\r\n\r\n            domaciDohvat() {\r\n                this.domaciTim = this.klubs.filter((klub) => klub !== this.domacin);\r\n            },\r\n\r\n            gostiDohvat() {\r\n                this.gostiTim = this.klubs.filter((klub) => klub !== this.gosti);\r\n            },\r\n\r\n            async kreirajTekmu() {\r\n                let response = await axios.post(\"http://localhost:10000/api/utakmica/create\", {\r\n                \r\n                })\r\n\r\n                this.clearFormData();\r\n\r\n            }\r\n        },\r\n    };\r\n</script>\r\n\r\n<style>\r\n    .obrub1\r\n    {\r\n        border: 2px solid white;\r\n        background-color: white;\r\n        padding: 50px;\r\n        margin-left: 200px;\r\n        margin-right: 200px;\r\n        margin-top: 100px;\r\n        margin-bottom: 100px;\r\n    }\r\n\r\n    .v-text-field\r\n    {\r\n        font-size: 30px;\r\n        font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\r\n        font-weight: bold;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n    }\r\n\r\n    .gol\r\n    {\r\n        width: 80px;\r\n        height: 100px;\r\n        border: 2px solid black;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        margin-left: 50px !important;\r\n        margin-right: 50px !important;\r\n    }\r\n\r\n    .goll\r\n    {\r\n        width: 80%;\r\n        height: 100%;\r\n        text-align: center;\r\n        font-size: 60px;\r\n        border: none;\r\n        outline: none;\r\n        font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\r\n    }\r\n\r\n    .row\r\n    {\r\n        color: black;\r\n        text-align: center;\r\n        margin-top: 20px;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n    }\r\n\r\n    .select\r\n    {\r\n        font-size: 40px; \r\n        text-align: center;\r\n        font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\r\n        border: 2px solid black;\r\n    }\r\n</style>"],"mappings":"AAiIA,OAAAA,KAAA;AACA,SAAAC,IAAA;AAEA;EACAC,IAAA,EAAAA,CAAA;IACAC,IAAA,EAAAF,IAAA,CAAAG,KAAA;IACAC,IAAA;IACAC,SAAA;IACAC,IAAA;IACAC,WAAA;IACAC,UAAA;IACAC,QAAA;IACAC,cAAA;IACAC,aAAA;IACAC,KAAA;IACAC,QAAA;IACAC,SAAA;IACAC,OAAA;IACAC,KAAA;IACAC,IAAA;IACAC,YAAA;IACAC,IAAA,MAAAC,IAAA,CAAAA,IAAA,CAAAC,GAAA,SAAAD,IAAA,GAAAE,iBAAA,YAAAC,WAAA,GAAAC,MAAA;IACAC,QAAA;IACAC,IAAA;IACAC,KAAA;IACAC,KAAA;IACAC,GAAA;IACAC,MAAA;IACAC,MAAA;IACAC,QAAA;IACAC,MAAA;IACAC,MAAA;IACAC,WAAA;IACAC,SAAA;IACAC,KAAA;MACAC,QAAA,EAAAC,CAAA,MAAAA,CAAA;IACA;EACA;EAEAC,QAAA;IACA,KAAAC,WAAA;EACA;EAEAC,OAAA;IACAC,cAAA;MACA,KAAArC,IAAA;MACA,KAAAC,WAAA;MACA,KAAAI,aAAA;MACA,KAAAH,UAAA;MACA,KAAAC,QAAA;MACA,KAAAC,cAAA;MACA,KAAAK,OAAA;MACA,KAAAC,KAAA;MACA,KAAAE,YAAA;MACA,KAAAC,IAAA;IACA;IAEAyB,cAAA;MACA,MAAAC,OAAA,OAAAzB,IAAA;MACA,KAAAW,MAAA,GAAAe,MAAA,gBAAAD,OAAA,CAAAE,WAAA;MACA,KAAAjB,MAAA,GAAAgB,MAAA,gBAAAD,OAAA,CAAAG,QAAA;MACA,KAAAnB,GAAA,GAAAiB,MAAA,aAAAD,OAAA,CAAAI,OAAA;MACA,KAAAjB,QAAA,GAAAc,MAAA,IAAAD,OAAA,CAAAK,QAAA,MAAAL,OAAA,CAAAM,UAAA,MAAAN,OAAA,CAAAO,UAAA;MACA,KAAA3B,QAAA,GAAAqB,MAAA,MAAA3B,IAAA,cAAAa,QAAA;IACA;IAEA,MAAAS,YAAA;MACA;QACA,MAAAY,SAAA,QAAAnD,IAAA,CAAAmD,SAAA;QACA,MAAAC,QAAA,SAAAvD,KAAA,CAAAwD,GAAA,iDAAAF,SAAA;QACA,IAAAC,QAAA,CAAAE,MAAA;UACA,UAAAC,KAAA;QACA;QACA,KAAAxC,IAAA,GAAAqC,QAAA,CAAArD,IAAA;MACA,SAAAyD,KAAA;QACAC,OAAA,CAAAD,KAAA,qCAAAA,KAAA;MACA;IACA;IAEA,MAAAE,eAAA;MACA,KAAAhD,KAAA;MACA,KAAAC,QAAA;MACA;QACA,MAAAwC,SAAA,QAAAnD,IAAA,CAAAmD,SAAA;QACA,MAAAQ,QAAA,QAAA3C,YAAA;QACA,MAAAoC,QAAA,SAAAvD,KAAA,CAAAwD,GAAA,iDAAAF,SAAA,SAAAQ,QAAA;QACA,IAAAP,QAAA,CAAAE,MAAA;UACA,UAAAC,KAAA;QACA;QACA,KAAA7C,KAAA,GAAA0C,QAAA,CAAArD,IAAA;QACA,KAAAY,QAAA,QAAAD,KAAA;MACA,SAAA8C,KAAA;QACAC,OAAA,CAAAD,KAAA,wCAAAA,KAAA;MACA;IACA;IAEAI,aAAA;MACA,KAAAhD,SAAA,QAAAF,KAAA,CAAAmD,MAAA,CAAAC,IAAA,IAAAA,IAAA,UAAAjD,OAAA;IACA;IAEAkD,YAAA;MACA,KAAApD,QAAA,QAAAD,KAAA,CAAAmD,MAAA,CAAAC,IAAA,IAAAA,IAAA,UAAAhD,KAAA;IACA;IAEA,MAAAkD,aAAA;MACA,IAAAZ,QAAA,SAAAvD,KAAA,CAAAoE,IAAA,gDAEA;MAEA,KAAAxB,aAAA;IAEA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}