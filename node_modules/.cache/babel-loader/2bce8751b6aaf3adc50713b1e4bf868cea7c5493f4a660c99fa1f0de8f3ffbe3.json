{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { db, auth, collection, getDocs, setDoc, doc, ref, uploadBytes, storage, onAuthStateChanged } from '@/firebase';\nexport default {\n  data: () => ({\n    clubName: null,\n    clubCountry: null,\n    clubYear: null,\n    ligas: [],\n    liga: ''\n  }),\n  mounted() {\n    /*\r\n    console.log(auth.currentUser)\r\n    const colRef = collection(db, \"Users\", auth.currentUser.email, \"Lige\");\r\n    getDocs(colRef)\r\n      .then((querySnapshot) => {\r\n        querySnapshot.forEach((doc) => {\r\n          console.log(doc.id);\r\n          this.ligas.push(doc.id);\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error fetching subcollection documents:\", error);\r\n      });\r\n    */\n    onAuthStateChanged(auth, user => {\n      if (user) {\n        const colRef = collection(db, \"Users\", user.email, \"Lige\");\n        getDocs(colRef).then(querySnapshot => {\n          querySnapshot.forEach(doc => {\n            console.log(doc.id);\n            this.ligas.push(doc.id);\n          });\n        }).catch(error => {\n          console.error(\"Error fetching subcollection documents:\", error);\n        });\n      } else {\n        console.log(\"User in not loged in\");\n      }\n    });\n    this.getDocuments();\n  },\n  methods: {\n    clearFormData() {\n      this.clubName = null;\n      this.clubYear = null;\n      this.clubCountry = null;\n    },\n    getDocuments(auth) {\n      console.log(auth);\n    },\n    UploadImageToStorage() {\n      console.log(\"uplodaing...\");\n      const storageRef = ref(storage, \"Users/\" + auth.currentUser.email + \"/ClubPicture/picture\");\n      console.log(this.$refs.myfile.files);\n      uploadBytes(storageRef, this.$refs.myfile.files[0]).then(console.log(\"done!\"));\n    },\n    async createKlub() {\n      await setDoc(doc(db, \"Users\", auth.currentUser.email, \"Lige\", this.liga, \"Klubovi\", this.clubName), {\n        clubName: this.clubName,\n        clubYear: this.clubYear,\n        clubCountry: this.clubCountry\n      });\n      this.clearFormData();\n    }\n  }\n};","map":{"version":3,"names":["db","auth","collection","getDocs","setDoc","doc","ref","uploadBytes","storage","onAuthStateChanged","data","clubName","clubCountry","clubYear","ligas","liga","mounted","user","colRef","email","then","querySnapshot","forEach","console","log","id","push","catch","error","getDocuments","methods","clearFormData","UploadImageToStorage","storageRef","currentUser","$refs","myfile","files","createKlub"],"sources":["src/views/KreirajKLUB.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"naslov\">\r\n            <h1>Kreiraj klub</h1>\r\n        </div>\r\n    \r\n        <div class=\"obrub\">\r\n            <v-text-field v-model=\"clubName\" label=\"Naziv kluba\" variant=\"underlined\"></v-text-field>\r\n            <v-text-field v-model=\"clubYear\" label=\"Godina osnivanja\" variant=\"underlined\"></v-text-field>\r\n            <v-text-field v-model=\"clubCountry\" label=\"DrÅ¾ava\" variant=\"underlined\"></v-text-field>\r\n\r\n            <v-row class=\"row2\">\r\n              <v-col>\r\n                  <div>\r\n                      <h5 style=\"font-size: 20px; margin-bottom: 10px;\">Liga u kojoj se klub nalazi</h5>\r\n                      <select class=\"select2\" v-model=\"liga\">\r\n                        <option value=\"\">Select an option</option>\r\n                        <option v-for=\"liga in ligas\" :key=\"liga.id\" :value=\"liga.id\">{{ liga }}</option>\r\n                      </select>\r\n                      <br><br>\r\n                  </div>\r\n              </v-col>\r\n            </v-row>\r\n\r\n            <h3 class=\"grb\">Grb Kluba</h3>\r\n\r\n            <input \r\n                class=\"butot\" \r\n                type=\"file\" \r\n                ref=\"myfile\" \r\n            />\r\n\r\n            <v-btn @click=\"createKlub()\" elevation=\"2\" style=\"background-color: green; color: white; margin-top:40px; margin-left: 85% !important;\">Kreiraj!</v-btn>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n  import {db, auth, collection, getDocs, setDoc, doc, ref, uploadBytes, storage, onAuthStateChanged} from '@/firebase';\r\n\r\n  export default {\r\n    data: () => ({\r\n      clubName: null,\r\n      clubCountry: null,\r\n      clubYear: null,\r\n      ligas: [],\r\n      liga: '',\r\n    }),\r\n\r\n   mounted() {\r\n    /*\r\n    console.log(auth.currentUser)\r\n    const colRef = collection(db, \"Users\", auth.currentUser.email, \"Lige\");\r\n    getDocs(colRef)\r\n      .then((querySnapshot) => {\r\n        querySnapshot.forEach((doc) => {\r\n          console.log(doc.id);\r\n          this.ligas.push(doc.id);\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error fetching subcollection documents:\", error);\r\n      });\r\n*/\r\n      onAuthStateChanged(auth, (user) => {\r\n\t\t\tif (user) {\r\n        const colRef = collection(db, \"Users\", user.email, \"Lige\");\r\n        getDocs(colRef)\r\n          .then((querySnapshot) => {\r\n            querySnapshot.forEach((doc) => {\r\n            console.log(doc.id);\r\n            this.ligas.push(doc.id);\r\n          });\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"Error fetching subcollection documents:\", error);\r\n        });\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(\"User in not loged in\");\r\n\t\t\t}\r\n\t\t});\r\n    this.getDocuments()\r\n   },\r\n\r\n    methods: {\r\n      clearFormData() {\r\n\t\t\t  this.clubName = null;\r\n\t\t\t  this.clubYear = null;\r\n\t\t\t  this.clubCountry = null;\r\n\t\t  },\r\n\r\n      getDocuments(auth) {\r\n        console.log(auth);\r\n      },\r\n\r\n        UploadImageToStorage() {\r\n            console.log(\"uplodaing...\");\r\n            const storageRef = ref(storage, \"Users/\"+auth.currentUser.email+\"/ClubPicture/picture\");\r\n            console.log(this.$refs.myfile.files);\r\n            uploadBytes(storageRef, this.$refs.myfile.files[0]).then(\r\n                console.log(\"done!\")\r\n            );\r\n        },   \r\n\r\n        async createKlub() {\r\n            await setDoc(\r\n            doc(db, \"Users\", auth.currentUser.email, \"Lige\", this.liga, \"Klubovi\", this.clubName),\r\n                {\r\n                  clubName: this.clubName,\r\n                  clubYear: this.clubYear,\r\n                  clubCountry: this.clubCountry\r\n                }\r\n            );\r\n            this.clearFormData();\r\n        }\r\n      },\r\n};\r\n</script>\r\n\r\n\r\n<style>\r\n  .obrub\r\n  {\r\n    border: 2px solid white;\r\n    background-color: white;\r\n    padding: 50px;\r\n    margin-left: 20%;\r\n    margin-right: 20%;\r\n    margin-top: 100px; \r\n  }\r\n\r\n  .v-text-field\r\n  {\r\n    font-size: 20px;\r\n    font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\r\n    font-weight: bold;\r\n  }\r\n\r\n  .select2\r\n  {\r\n    font-size: 20px; \r\n    text-align: center;\r\n    font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\r\n    border: 2px solid black;\r\n    color: black;\r\n  }\r\n\r\n  .row2\r\n  {\r\n    color: black;\r\n    text-align: center;\r\n    margin-top: 20px;\r\n  }\r\n</style>"],"mappings":";AAsCA,SAAAA,EAAA,EAAAC,IAAA,EAAAC,UAAA,EAAAC,OAAA,EAAAC,MAAA,EAAAC,GAAA,EAAAC,GAAA,EAAAC,WAAA,EAAAC,OAAA,EAAAC,kBAAA;AAEA;EACAC,IAAA,EAAAA,CAAA;IACAC,QAAA;IACAC,WAAA;IACAC,QAAA;IACAC,KAAA;IACAC,IAAA;EACA;EAEAC,QAAA;IACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACAP,kBAAA,CAAAR,IAAA,EAAAgB,IAAA;MACA,IAAAA,IAAA;QACA,MAAAC,MAAA,GAAAhB,UAAA,CAAAF,EAAA,WAAAiB,IAAA,CAAAE,KAAA;QACAhB,OAAA,CAAAe,MAAA,EACAE,IAAA,CAAAC,aAAA;UACAA,aAAA,CAAAC,OAAA,CAAAjB,GAAA;YACAkB,OAAA,CAAAC,GAAA,CAAAnB,GAAA,CAAAoB,EAAA;YACA,KAAAX,KAAA,CAAAY,IAAA,CAAArB,GAAA,CAAAoB,EAAA;UACA;QACA,GACAE,KAAA,CAAAC,KAAA;UACAL,OAAA,CAAAK,KAAA,4CAAAA,KAAA;QACA;MACA;QACAL,OAAA,CAAAC,GAAA;MACA;IACA;IACA,KAAAK,YAAA;EACA;EAEAC,OAAA;IACAC,cAAA;MACA,KAAApB,QAAA;MACA,KAAAE,QAAA;MACA,KAAAD,WAAA;IACA;IAEAiB,aAAA5B,IAAA;MACAsB,OAAA,CAAAC,GAAA,CAAAvB,IAAA;IACA;IAEA+B,qBAAA;MACAT,OAAA,CAAAC,GAAA;MACA,MAAAS,UAAA,GAAA3B,GAAA,CAAAE,OAAA,aAAAP,IAAA,CAAAiC,WAAA,CAAAf,KAAA;MACAI,OAAA,CAAAC,GAAA,MAAAW,KAAA,CAAAC,MAAA,CAAAC,KAAA;MACA9B,WAAA,CAAA0B,UAAA,OAAAE,KAAA,CAAAC,MAAA,CAAAC,KAAA,KAAAjB,IAAA,CACAG,OAAA,CAAAC,GAAA,UACA;IACA;IAEA,MAAAc,WAAA;MACA,MAAAlC,MAAA,CACAC,GAAA,CAAAL,EAAA,WAAAC,IAAA,CAAAiC,WAAA,CAAAf,KAAA,eAAAJ,IAAA,kBAAAJ,QAAA,GACA;QACAA,QAAA,OAAAA,QAAA;QACAE,QAAA,OAAAA,QAAA;QACAD,WAAA,OAAAA;MACA,EACA;MACA,KAAAmB,aAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}