{"ast":null,"code":"import \"core-js/modules/esnext.typed-array.to-reversed.js\";\nimport \"core-js/modules/esnext.typed-array.to-sorted.js\";\nimport \"core-js/modules/esnext.typed-array.with.js\";\nimport axios from 'axios';\nimport base64 from 'base-64';\nexport default {\n  name: \"Signup\",\n  components: {},\n  data: () => ({\n    agreement: false,\n    encodedImageData: null,\n    valid: true,\n    name: null,\n    surname: null,\n    email: null,\n    profilna: null,\n    form: false,\n    isLoading: false,\n    password: null,\n    date: new Date(Date.now() - new Date().getTimezoneOffset() * 60000).toISOString().substr(0, 10),\n    modal: false,\n    rules: {\n      email: v => !!(v || '').match(/@/) || 'Please enter a valid email',\n      length: len => v => (v || '').length >= len || `Invalid character length, required ${len}`,\n      password: v => !!(v || '').match(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*(_|[^\\w])).+$/) || 'Password must contain an upper case letter, a numeric character, and a special character',\n      required: v => !!v || 'This field is required'\n    }\n  }),\n  methods: {\n    handleFileUpload() {\n      var file = this.profilna;\n      var reader = new FileReader();\n      reader.onload = event => {\n        var arrayBuffer = event.target.result;\n        var binaryData = new Uint8Array(arrayBuffer);\n        this.encodedImageData = base64.encode(binaryData); // Store the encoded data\n      };\n\n      reader.readAsArrayBuffer(file);\n    },\n    async signUp() {\n      this.handleFileUpload();\n      try {\n        const res = await axios.post('http://localhost:10000/api/auth/signUp', {\n          \"ime\": this.name,\n          \"prezime\": this.surname,\n          \"datumRodenja\": this.date,\n          \"email\": this.email,\n          \"password\": this.password,\n          \"profilna\": this.encodedImageData\n        });\n        console.log(res.data);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","base64","name","components","data","agreement","encodedImageData","valid","surname","email","profilna","form","isLoading","password","date","Date","now","getTimezoneOffset","toISOString","substr","modal","rules","v","match","length","len","required","methods","handleFileUpload","file","reader","FileReader","onload","event","arrayBuffer","target","result","binaryData","Uint8Array","encode","readAsArrayBuffer","signUp","res","post","console","log","error"],"sources":["src/views/Signup.vue"],"sourcesContent":["<template>\r\n\r\n    <div data-app>\r\n      <div class=\"naslov1\">\r\n        <h1>SignUp</h1>\r\n      </div>\r\n\r\n    <v-card\r\n      class=\"mx-auto\"\r\n      style=\"max-width: 800px; margin-top: 80px; margin-left: auto; margin-right:auto; padding: 30px;\"\r\n    >\r\n\r\n    <v-card-title> Imaš li već račun? <v-btn to=\"/LogIn\" style=\"margin-left:10px; color:black; text-decoration: none;\"> Prijavi se! </v-btn> </v-card-title>\r\n\r\n      <v-form ref=\"form\" v-model=\"form\" style=\"margin-top: 20px;\">\r\n\r\n      <v-text-field\r\n          v-model=\"name\"\r\n          filled\r\n          label=\"Ime\"\r\n          style=\"min-height: 100px;\"\r\n          :rules=\"[rules.required]\"\r\n          type=\"text\"\r\n        ></v-text-field>\r\n\r\n        <v-text-field\r\n          v-model=\"surname\"\r\n          filled\r\n          color=\"black\"\r\n          label=\"Prezime\"\r\n          style=\"min-height: 100px\"\r\n          :rules=\"[rules.required]\"\r\n          type=\"text\"\r\n        ></v-text-field>\r\n\r\n        <v-dialog\r\n          ref=\"dialog\"\r\n          v-model=\"modal\"\r\n          :return-value.sync=\"date\"\r\n          persistent\r\n          width=\"290px\"\r\n        >\r\n          <template v-slot:activator=\"{ on, attrs }\">\r\n            <v-text-field\r\n              v-model=\"date\"\r\n              label=\"Odaberite datum rođenja\"\r\n              prepend-icon=\"mdi-calendar\"\r\n              readonly\r\n              v-bind=\"attrs\"\r\n              v-on=\"on\"\r\n            ></v-text-field>\r\n          </template>\r\n          <v-date-picker\r\n            v-model=\"date\"\r\n            scrollable\r\n          >\r\n            <v-spacer></v-spacer>\r\n            <v-btn\r\n              text\r\n              color=\"primary\"\r\n              @click=\"modal = false\"\r\n            >\r\n              Cancel\r\n            </v-btn>\r\n            <v-btn\r\n              text\r\n              color=\"primary\"\r\n              @click=\"$refs.dialog.save(date)\"\r\n            >\r\n              OK\r\n            </v-btn>\r\n          </v-date-picker>\r\n        </v-dialog>\r\n\r\n      <v-text-field\r\n          v-model=\"email\"\r\n          :rules=\"[rules.email, rules.required]\"\r\n          filled\r\n          color=\"black\"\r\n          label=\"Email adresa\"\r\n          style=\"min-height: 100px\"\r\n          type=\"email\"\r\n        ></v-text-field>\r\n\r\n        <v-text-field\r\n          v-model=\"password\"\r\n          :rules=\"[rules.password, rules.length(6), rules.required]\"\r\n          filled\r\n          color=\"black\"\r\n          counter=\"6\"\r\n          label=\"Lozinka\"\r\n          style=\"min-height: 100px\"\r\n          type=\"password\"\r\n        ></v-text-field>\r\n\r\n        <v-file-input\r\n          class=\"butot\" \r\n          type=\"file\" \r\n          :rules=\"[rules.required]\"\r\n          v-model=\"profilna\"\r\n          label=\"Profilna slika\"\r\n          accept=\".png,.jpeg,.jpg\"\r\n        ></v-file-input>\r\n\r\n        <v-checkbox\r\n          v-model=\"agreement\"\r\n          :rules=\"[rules.required]\"\r\n          color=\"black\"\r\n        >\r\n          <template v-slot:label>\r\n            I agree to the Terms of Service and Privacy Policy\r\n          </template>\r\n        </v-checkbox>\r\n      </v-form>\r\n      <v-divider></v-divider>\r\n      <v-card-actions>\r\n        <v-btn\r\n          style=\"margin-bottom: 10px;\"\r\n          text\r\n          @click=\"$refs.form.reset()\"\r\n        >\r\n          Clear\r\n        </v-btn>\r\n        <v-spacer></v-spacer>\r\n        <v-btn\r\n          type=\"button\"\r\n          :disabled=\"!form\"\r\n          :loading=\"isLoading\"\r\n          class=\"butot\"\r\n          depressed\r\n          @click=\"signUp()\"\r\n        >\r\n          SignUP!\r\n        </v-btn>\r\n      </v-card-actions>\r\n        </v-card>\r\n    </div>\r\n  </template>\r\n\r\n\r\n<script>\r\n  import axios from 'axios';\r\n  import base64 from 'base-64'\r\n\r\n  export default {\r\n    name: \"Signup\",\r\n    components: {},\r\n    data: () => ({\r\n      agreement: false,\r\n      encodedImageData: null,\r\n      valid: true,\r\n      name: null,\r\n      surname: null,\r\n      email: null,\r\n      profilna: null,\r\n      form: false,\r\n      isLoading: false,\r\n      password: null,\r\n      date: (new Date(Date.now() - (new Date()).getTimezoneOffset() * 60000)).toISOString().substr(0, 10),\r\n      modal: false,\r\n      rules: {\r\n        email: v => !!(v || '').match(/@/) || 'Please enter a valid email',\r\n        length: len => v => (v || '').length >= len || `Invalid character length, required ${len}`,\r\n        password: v => !!(v || '').match(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*(_|[^\\w])).+$/) ||\r\n          'Password must contain an upper case letter, a numeric character, and a special character',\r\n        required: v => !!v || 'This field is required',\r\n      },\r\n    }),\r\n\r\n    methods: {\r\n\r\n      handleFileUpload() {\r\n      var file = this.profilna;\r\n      var reader = new FileReader();\r\n\r\n      reader.onload = (event) => {\r\n        var arrayBuffer = event.target.result;\r\n        var binaryData = new Uint8Array(arrayBuffer);\r\n        this.encodedImageData = base64.encode(binaryData); // Store the encoded data\r\n      };\r\n\r\n      reader.readAsArrayBuffer(file);\r\n    },\r\n\r\n      async signUp() {\r\n        this.handleFileUpload()\r\n        try{\r\n          const res = await axios.post('http://localhost:10000/api/auth/signUp', {\r\n            \"ime\": this.name, \"prezime\": this.surname, \"datumRodenja\": this.date, \"email\": this.email, \"password\": this.password, \"profilna\": this.encodedImageData\r\n          })\r\n          console.log(res.data)\r\n        } catch(error) {\r\n          console.log(error)\r\n        }\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<style>\r\n  .obrub1\r\n  {\r\n    border: 2px solid white;\r\n    background-color: white;\r\n    padding: 50px;\r\n    margin-left: 200px;\r\n    margin-right: 200px;\r\n    margin-top: 100px;\r\n    margin-bottom: 100px;\r\n  }\r\n\r\n  .naslov1\r\n  {\r\n    font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\r\n    text-align: center;\r\n    color: white;\r\n    margin-top:120px;\r\n  }\r\n</style>"],"mappings":";;;AA6IA,OAAAA,KAAA;AACA,OAAAC,MAAA;AAEA;EACAC,IAAA;EACAC,UAAA;EACAC,IAAA,EAAAA,CAAA;IACAC,SAAA;IACAC,gBAAA;IACAC,KAAA;IACAL,IAAA;IACAM,OAAA;IACAC,KAAA;IACAC,QAAA;IACAC,IAAA;IACAC,SAAA;IACAC,QAAA;IACAC,IAAA,MAAAC,IAAA,CAAAA,IAAA,CAAAC,GAAA,SAAAD,IAAA,GAAAE,iBAAA,YAAAC,WAAA,GAAAC,MAAA;IACAC,KAAA;IACAC,KAAA;MACAZ,KAAA,EAAAa,CAAA,OAAAA,CAAA,QAAAC,KAAA;MACAC,MAAA,EAAAC,GAAA,IAAAH,CAAA,KAAAA,CAAA,QAAAE,MAAA,IAAAC,GAAA,0CAAAA,GAAA;MACAZ,QAAA,EAAAS,CAAA,OAAAA,CAAA,QAAAC,KAAA,yDACA;MACAG,QAAA,EAAAJ,CAAA,MAAAA,CAAA;IACA;EACA;EAEAK,OAAA;IAEAC,iBAAA;MACA,IAAAC,IAAA,QAAAnB,QAAA;MACA,IAAAoB,MAAA,OAAAC,UAAA;MAEAD,MAAA,CAAAE,MAAA,GAAAC,KAAA;QACA,IAAAC,WAAA,GAAAD,KAAA,CAAAE,MAAA,CAAAC,MAAA;QACA,IAAAC,UAAA,OAAAC,UAAA,CAAAJ,WAAA;QACA,KAAA5B,gBAAA,GAAAL,MAAA,CAAAsC,MAAA,CAAAF,UAAA;MACA;;MAEAP,MAAA,CAAAU,iBAAA,CAAAX,IAAA;IACA;IAEA,MAAAY,OAAA;MACA,KAAAb,gBAAA;MACA;QACA,MAAAc,GAAA,SAAA1C,KAAA,CAAA2C,IAAA;UACA,YAAAzC,IAAA;UAAA,gBAAAM,OAAA;UAAA,qBAAAM,IAAA;UAAA,cAAAL,KAAA;UAAA,iBAAAI,QAAA;UAAA,iBAAAP;QACA;QACAsC,OAAA,CAAAC,GAAA,CAAAH,GAAA,CAAAtC,IAAA;MACA,SAAA0C,KAAA;QACAF,OAAA,CAAAC,GAAA,CAAAC,KAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}