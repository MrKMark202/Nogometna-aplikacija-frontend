{"ast":null,"code":"import axios from 'axios';\nimport { Auth } from '@/components/registracija';\nexport default {\n  name: \"CreateClub\",\n  data: () => ({\n    auth: Auth.state,\n    clubName: null,\n    clubCountry: null,\n    clubYear: null,\n    ligas: [],\n    selectedLiga: '',\n    KlubPictureURL: '',\n    form: false,\n    isLoading: false,\n    rules: {\n      required: v => !!v || 'This field is required'\n    }\n  }),\n  mounted() {\n    this.dohvatiLige();\n  },\n  methods: {\n    clearFormData() {\n      this.clubName = null;\n      this.clubYear = null;\n      this.clubCountry = null;\n      this.selectedLiga = '';\n    },\n    async dohvatiLige() {\n      try {\n        const userEmail = this.auth.userEmail;\n        const response = await axios.get(`http://localhost:10000/api/dohvat/liga?email=${userEmail}`);\n        if (response.status !== 200) {\n          throw new Error('Network response was not ok');\n        }\n        this.ligas = response.data.map(liga => liga.naziv);\n      } catch (error) {\n        console.error('Greška prilikom dohvaćanja liga:', error);\n      }\n    },\n    async kreirajKlub() {\n      let response = await axios.post(\"http://localhost:10000/api/create/klub\", {});\n      this.clearFormData();\n    }\n  }\n};","map":{"version":3,"names":["axios","Auth","name","data","auth","state","clubName","clubCountry","clubYear","ligas","selectedLiga","KlubPictureURL","form","isLoading","rules","required","v","mounted","dohvatiLige","methods","clearFormData","userEmail","response","get","status","Error","map","liga","naziv","error","console","kreirajKlub","post"],"sources":["src/views/KreirajKLUB.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"naslov\">\r\n            <h1>Kreiraj klub</h1>\r\n        </div>\r\n    \r\n        <div class=\"obrub\" data-app>\r\n          <v-form ref=\"form\" v-model=\"form\" style=\"margin-top: 20px;\">\r\n            <v-text-field v-model=\"clubName\" label=\"Naziv kluba\" variant=\"underlined\" :rules=\"[rules.required]\"></v-text-field>\r\n            <v-text-field v-model=\"clubYear\" label=\"Godina osnivanja\" variant=\"underlined\" :rules=\"[rules.required]\"></v-text-field>\r\n            <v-text-field v-model=\"clubCountry\" label=\"Država\" variant=\"underlined\" :rules=\"[rules.required]\"></v-text-field>\r\n\r\n            <v-row class=\"row2\">\r\n              <v-col>\r\n                  <div>\r\n                      <v-select\r\n                        :rules=\"[rules.required]\"\r\n                        :items=\"ligas\"\r\n                        label=\"Izaberite ligu za koju kreirate klub!\"\r\n                        v-model=\"selectedLiga\"\r\n                        class=\"vselect\"\r\n                      ></v-select>\r\n                      <br><br>\r\n                  </div>\r\n              </v-col>\r\n            </v-row>\r\n          </v-form>\r\n            <h3 class=\"grb\">Grb Kluba</h3>\r\n\r\n            <input \r\n              class=\"butot\" \r\n              type=\"file\" \r\n              ref=\"KlubPictureFile\" \r\n            />\r\n\r\n            <v-btn \r\n              @click=\"kreirajKlub()\" \r\n              elevation=\"2\" \r\n              :disabled=\"!form\"\r\n              :loading=\"isLoading\"\r\n              style=\"background-color: green; color: white; margin-top:40px; margin-left: 85% !important;\">Kreiraj!</v-btn>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n  import axios from 'axios';\r\n  import { Auth } from '@/components/registracija'\r\n\r\n  export default {\r\n    name: \"CreateClub\",\r\n    data: () => ({\r\n      auth: Auth.state,\r\n      clubName: null,\r\n      clubCountry: null,\r\n      clubYear: null,\r\n      ligas: [],\r\n      selectedLiga: '',\r\n      KlubPictureURL: '',\r\n      form: false,\r\n      isLoading: false,\r\n      rules: {\r\n        required: v => !!v || 'This field is required'\r\n      },\r\n    }),\r\n\r\n    mounted() {\r\n      this.dohvatiLige();\r\n    },\r\n\r\n    methods: {\r\n      clearFormData() {\r\n\t\t\t  this.clubName = null;\r\n\t\t\t  this.clubYear = null;\r\n\t\t\t  this.clubCountry = null;\r\n        this.selectedLiga = '';\r\n\t\t  },\r\n\r\n      async dohvatiLige() {\r\n        try {\r\n          const userEmail = this.auth.userEmail;\r\n          const response = await axios.get(`http://localhost:10000/api/dohvat/liga?email=${userEmail}`);\r\n          if (response.status !== 200) {\r\n            throw new Error('Network response was not ok');\r\n          } \r\n          this.ligas = response.data.map(liga => liga.naziv);\r\n        } catch (error) {\r\n            console.error('Greška prilikom dohvaćanja liga:', error);\r\n        }\r\n      },\r\n\r\n      async kreirajKlub() {\r\n        let response = await axios.post(\"http://localhost:10000/api/create/klub\", {\r\n\r\n        })\r\n\r\n        this.clearFormData();\r\n\r\n      }\r\n    },\r\n  };\r\n</script>\r\n\r\n\r\n<style>\r\n  .obrub\r\n  {\r\n    border: 2px solid white;\r\n    background-color: white;\r\n    padding: 50px;\r\n    margin-left: 20%;\r\n    margin-right: 20%;\r\n    margin-top: 100px; \r\n  }\r\n\r\n  .v-text-field\r\n  {\r\n    font-size: 20px !important;\r\n    font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\r\n    font-weight: bold;\r\n  }\r\n\r\n  .row2\r\n  {\r\n    color: black;\r\n    text-align: center;\r\n  }\r\n\r\n  .vselect\r\n  {\r\n    font-size: 20px !important;\r\n    font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif !important;\r\n  }\r\n</style>"],"mappings":"AA8CA,OAAAA,KAAA;AACA,SAAAC,IAAA;AAEA;EACAC,IAAA;EACAC,IAAA,EAAAA,CAAA;IACAC,IAAA,EAAAH,IAAA,CAAAI,KAAA;IACAC,QAAA;IACAC,WAAA;IACAC,QAAA;IACAC,KAAA;IACAC,YAAA;IACAC,cAAA;IACAC,IAAA;IACAC,SAAA;IACAC,KAAA;MACAC,QAAA,EAAAC,CAAA,MAAAA,CAAA;IACA;EACA;EAEAC,QAAA;IACA,KAAAC,WAAA;EACA;EAEAC,OAAA;IACAC,cAAA;MACA,KAAAd,QAAA;MACA,KAAAE,QAAA;MACA,KAAAD,WAAA;MACA,KAAAG,YAAA;IACA;IAEA,MAAAQ,YAAA;MACA;QACA,MAAAG,SAAA,QAAAjB,IAAA,CAAAiB,SAAA;QACA,MAAAC,QAAA,SAAAtB,KAAA,CAAAuB,GAAA,iDAAAF,SAAA;QACA,IAAAC,QAAA,CAAAE,MAAA;UACA,UAAAC,KAAA;QACA;QACA,KAAAhB,KAAA,GAAAa,QAAA,CAAAnB,IAAA,CAAAuB,GAAA,CAAAC,IAAA,IAAAA,IAAA,CAAAC,KAAA;MACA,SAAAC,KAAA;QACAC,OAAA,CAAAD,KAAA,qCAAAA,KAAA;MACA;IACA;IAEA,MAAAE,YAAA;MACA,IAAAT,QAAA,SAAAtB,KAAA,CAAAgC,IAAA,4CAEA;MAEA,KAAAZ,aAAA;IAEA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}