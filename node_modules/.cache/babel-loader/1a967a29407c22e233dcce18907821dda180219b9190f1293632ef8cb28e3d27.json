{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { db, auth, getAuth, getDoc, onAuthStateChanged, signOut, doc, getDocFromCache } from \"@/firebase\";\nexport default {\n  data: () => ({\n    drawer: false,\n    group: null,\n    isAuthenticated: false,\n    isAuthorized: false,\n    mail: 'user'\n  }),\n  watch: {\n    group() {\n      this.drawer = false;\n    }\n  },\n  mounted() {\n    onAuthStateChanged(auth, user => {\n      if (user) {\n        //const docRef = doc(db, \"Users\", \"ABCD@gmail.com\");\n\n        mailMalimSlovima = auth.currentUser.email.split('@');\n        getDoc(doc(db, \"Users\", mailMalimSlovima[0].toLowerCase())).then(docSnap => {\n          if (docSnap.exists()) {\n            console.log(\"Document data: kurac\", docSnap.data()[\"Email\"]);\n            this.mail = docSnap.data()[\"Email\"];\n          } else {\n            console.log(\"No such document!\");\n          }\n        });\n        this.mail = auth.currentUser.email;\n      } else {\n        this.email = \"user not sign kurac\";\n      }\n    });\n    this.getDocuments();\n  },\n  methods: {\n    signOut() {\n      const auth = getAuth();\n      signOut(auth).then(() => {\n        console.log(\"signed out\");\n        this.$router.push({\n          path: \"/Login\"\n        });\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n    getDocuments(auth) {\n      console.log(auth);\n    }\n  },\n  beforeCreate() {\n    onAuthStateChanged(auth, user => {\n      if (user) {\n        console.log(user);\n        console.log(\"Prijavljen\");\n        this.isAuthenticated = true;\n      } else {\n        console.log(\"Nema prijave\");\n        this.isAuthenticated = false;\n      }\n    });\n  }\n};","map":{"version":3,"names":["db","auth","getAuth","getDoc","onAuthStateChanged","signOut","doc","getDocFromCache","data","drawer","group","isAuthenticated","isAuthorized","mail","watch","mounted","user","mailMalimSlovima","currentUser","email","split","toLowerCase","then","docSnap","exists","console","log","getDocuments","methods","$router","push","path","catch","error","beforeCreate"],"sources":["src/App.vue"],"sourcesContent":["<template>\n  <nav>\n    <div class=\"grid-container\">\n      <div class=\"grid-item1\">\n        <v-app-bar-nav-icon\n          @click.stop=\"drawer = !drawer\"\n          style=\"color: white\"\n        ></v-app-bar-nav-icon>\n\n        <v-navigation-drawer\n          v-model=\"drawer\"\n          absolute\n          temporary\n          style=\"background-color: green\"\n        >\n          <v-list style=\"padding: 10px\">\n            <v-list-item-group\n              v-model=\"group\"\n              active-class=\"deep-purple--text text--accent-4\"\n            >\n              <v-list-item to=\"/\" class=\"btn_style\"> Home </v-list-item>\n\n              <v-list-item to=\"/AboutUs\" class=\"btn_style\">\n                About us\n              </v-list-item>\n\n              <v-list-item to=\"/KreirajLigu\" class=\"btn_style\">\n                Kreiraj ligu\n              </v-list-item>\n\n              <v-list-item to=\"/KreirajKlub\" class=\"btn_style\">\n                Kreiraj klub\n              </v-list-item>\n\n              <v-list-item to=\"/KreirajUtakmicu\" class=\"btn_style\">\n                Kreiraj utakmicu\n              </v-list-item>\n            </v-list-item-group>\n          </v-list>\n        </v-navigation-drawer>\n      </div>\n      <div class=\"grid-item2\" style=\"text-align: right\">\n        <v-btn\n          v-show=\"!isAuthenticated\"\n          class=\"btn_style\"\n          elevation=\"2\"\n          to=\"/Login\"\n        >\n          LogIn\n        </v-btn>\n        <a v-show=\"!isAuthenticated\"> | </a>\n        <v-btn\n          v-show=\"!isAuthenticated\"\n          class=\"btn_style\"\n          elevation=\"2\"\n          to=\"/Signup\"\n        >\n          SignUp\n        </v-btn>\n        <p v-show=\"isAuthenticated\">\n          {{ mail }} |\n          <v-btn href=\"#\" @click.prevent=\"signOut()\" class=\"btn_style\"\n            >LogOut</v-btn\n          >\n        </p>\n      </div>\n    </div>\n    <router-view></router-view>\n  </nav>\n</template>\n\n<script>\nimport {db , auth, getAuth,getDoc, onAuthStateChanged, signOut,doc, getDocFromCache } from \"@/firebase\";\n\n  export default {\n    data: () => ({\n      drawer: false,\n      group: null,\n      isAuthenticated: false,\n\t\t\tisAuthorized: false,\n      mail: 'user'\n    }),\n\n    watch: {\n      group () {\n        this.drawer = false;\n      },\n    },\n\n    mounted() {\n\n      onAuthStateChanged(auth, (user) => {\n\t\t\tif (user) {\n        \n\n        //const docRef = doc(db, \"Users\", \"ABCD@gmail.com\");\n        \n        mailMalimSlovima = auth.currentUser.email.split('@');\n\n        getDoc(doc(db, \"Users\", mailMalimSlovima[0].toLowerCase())).then(docSnap => {\n  if (docSnap.exists()) {\n    console.log(\"Document data: kurac\", docSnap.data()[\"Email\"]);\n    this.mail = docSnap.data()[\"Email\"]\n  } else {\n    console.log(\"No such document!\");\n  }\n})\n\n\n        \n      this.mail = auth.currentUser.email;\n\n\t\t\t} else {\n\t\t\t\t\n\t\t\t\tthis.email = \"user not sign kurac\"\n\t\t\t}\n\t\t});\n\n      this.getDocuments()\n    },\n\n    methods: {\n    signOut() {\n\t\t\tconst auth = getAuth();\n\t\t\tsignOut(auth)\n\t\t\t\t.then(() => {\n\t\t\t\t\tconsole.log(\"signed out\");\n          this.$router.push({ path: \"/Login\" });\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsole.error(error);\n\t\t\t\t});\n    },\n\n    getDocuments(auth) {\n      console.log(auth);\n    }\n\n  },\n    beforeCreate() {\n\t\tonAuthStateChanged(auth, (user) => {\n\t\t\tif (user) {\n        console.log(user);\n\t\t\t\tconsole.log(\"Prijavljen\");\n\t\t\t\tthis.isAuthenticated = true;\n\t\t\t} else {\n\t\t\t\tconsole.log(\"Nema prijave\");\n\t\t\t\tthis.isAuthenticated = false;\n\t\t\t}\n\t\t});\n\t},\n  };\n</script>\n\n<style lang=\"scss\">\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  color: #2c3e50;\n}\n\na {\n  font-weight: bold;\n  color: white;\n\n  &.router-link-exact-active {\n    color: rgb(159, 255, 140);\n  }\n}\n\n.grid-container {\n  display: grid;\n  grid-template-columns: auto auto;\n  padding: 20px;\n  background-color: rgb(7, 45, 7);\n}\n\n.grid-item1 {\n  font-size: 30px;\n}\n\n.grid-item2 {\n  font-size: 30px;\n}\n\n.btn_style {\n  background-color: green !important;\n  color: white !important;\n  font-weight: bold;\n}\n</style>\n"],"mappings":";AAwEA,SAAAA,EAAA,EAAAC,IAAA,EAAAC,OAAA,EAAAC,MAAA,EAAAC,kBAAA,EAAAC,OAAA,EAAAC,GAAA,EAAAC,eAAA;AAEA;EACAC,IAAA,EAAAA,CAAA;IACAC,MAAA;IACAC,KAAA;IACAC,eAAA;IACAC,YAAA;IACAC,IAAA;EACA;EAEAC,KAAA;IACAJ,MAAA;MACA,KAAAD,MAAA;IACA;EACA;EAEAM,QAAA;IAEAX,kBAAA,CAAAH,IAAA,EAAAe,IAAA;MACA,IAAAA,IAAA;QAGA;;QAEAC,gBAAA,GAAAhB,IAAA,CAAAiB,WAAA,CAAAC,KAAA,CAAAC,KAAA;QAEAjB,MAAA,CAAAG,GAAA,CAAAN,EAAA,WAAAiB,gBAAA,IAAAI,WAAA,KAAAC,IAAA,CAAAC,OAAA;UACA,IAAAA,OAAA,CAAAC,MAAA;YACAC,OAAA,CAAAC,GAAA,yBAAAH,OAAA,CAAAf,IAAA;YACA,KAAAK,IAAA,GAAAU,OAAA,CAAAf,IAAA;UACA;YACAiB,OAAA,CAAAC,GAAA;UACA;QACA;QAIA,KAAAb,IAAA,GAAAZ,IAAA,CAAAiB,WAAA,CAAAC,KAAA;MAEA;QAEA,KAAAA,KAAA;MACA;IACA;IAEA,KAAAQ,YAAA;EACA;EAEAC,OAAA;IACAvB,QAAA;MACA,MAAAJ,IAAA,GAAAC,OAAA;MACAG,OAAA,CAAAJ,IAAA,EACAqB,IAAA;QACAG,OAAA,CAAAC,GAAA;QACA,KAAAG,OAAA,CAAAC,IAAA;UAAAC,IAAA;QAAA;MACA,GACAC,KAAA,CAAAC,KAAA;QACAR,OAAA,CAAAQ,KAAA,CAAAA,KAAA;MACA;IACA;IAEAN,aAAA1B,IAAA;MACAwB,OAAA,CAAAC,GAAA,CAAAzB,IAAA;IACA;EAEA;EACAiC,aAAA;IACA9B,kBAAA,CAAAH,IAAA,EAAAe,IAAA;MACA,IAAAA,IAAA;QACAS,OAAA,CAAAC,GAAA,CAAAV,IAAA;QACAS,OAAA,CAAAC,GAAA;QACA,KAAAf,eAAA;MACA;QACAc,OAAA,CAAAC,GAAA;QACA,KAAAf,eAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}